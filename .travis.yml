language: php
php:
  - 5.3
before_install:
  - sudo add-apt-repository ppa:duggan/bats --yes
  - sudo apt-get update -qq
  # Install bats CLI testing.
  - sudo apt-get install -qq bats
  # Update composer to the latest version.
  - composer self-update
install:
  # Refresh environment variables.
  - phpenv rehash
  # Run installation of all dependencies unsing composer.
  - composer install
script:
  # Run environment tests.
  - bats tests/bats/environment.bats
  # Run integration tests.
  - bats tests/bats/app.bats
  # Run unit tests.
  # @todo: Move this to the top once these tests implemented.
  - ./vendor/phpunit/phpunit/phpunit
